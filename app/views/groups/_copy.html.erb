<style>
  .iconsholder {
    box-sizing: unset;
  }
  .howl-iconpicker-close {
    width: 260px;
  }
  .srchicons {
    text-align: center !important;
  }
  .howl-iconpicker {
    background: #fff;
  }
  .selectedicon {
    background: #1976D2!important;
    border-color: #1976D2!important;
    color: #fff;
  }
</style>
<%= simple_form_for :group, url: groups_copy_path, remote: true do |f| %>
  <div class="modal-content p-0">
    <div class="row blue lighten-4 pt-3 pb-2">
      <div class="col s12 center">
          <h3 class="blue-text text-darken-3">Copy selected clients to</h3>
      </div>
    </div>
    <div class="row padding-2">
      <div class="col s6">
        <div class="input-field">
          <input disabled value="<%= source_group.name %>" id="disabled" type="text" class="validate" autofocus>
          <label for="disabled">Source Group</label>
          <input type="hidden" name="source_group" value="<%= source_group.id %>">
        </div>
      </div>
      <div class="input-field col s6">
        <select id="destination_group" name="destination_group">
          <option disabled selected>Choose your option</option>
          <%= options_from_collection_for_select(Group.where.not(id: source_group.id).order(mod: :desc, name: :asc), :id, :name) %>
        </select>
        <label>Select target group</label>
      </div>
    </div>
    <div class="row center-align padding-2" >
      <div class="col s12" style="margin-bottom: 13px;">
        <label>Selected Clients</label>
      </div>
      <div class="col s12">
        <% clients.each do | temp_client | %>
            <div class="chip"><%= temp_client.ip %></div>
            <input type="hidden" name="selected_clients[]" value="<%= temp_client.id %>" />
        <% end %>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <%= f.button :submit, 'Copy', :class => 'modal-action disabled', :id => 'submit-copy' %>
  </div>
<% end %>

<script>
    $('#destination_group').on('change', function(){ $('#submit-copy').removeClass('disabled'); });
</script>
